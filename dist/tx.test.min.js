(function () {
  'use strict';

  angular
    .module('tx.test', ['ngRoute']);

})();

(function () {
  'use strict';

  angular
    .module('tx.test')
    .config(function ($locationProvider, $routeProvider) {

      $locationProvider.html5Mode({
        enabled: true,
        requireBase: false
      });

      $routeProvider
        .when('/', {
          template:'<div class="row" ng-controller="ListUserController as vm"><div class="col-md-3" ng-repeat="userItem in vm.users">{{userItem.login}}</div></div>'
        })
        .when('/item-list-repository', {
          template:'<div>LIST REPOSITORY</div>'
        })
        .otherwise({redirectTo: '/'});
    });
})();
(function () {
  'use strict';

  angular
    .module('tx.test')
    .constant('TX_TEST_URL', {url: 'https://api.github.com'});
})();
(function () {
  'use strict';

  angular
    .module('tx.test')
    .service('httpService', httpService);

  httpService.$inject = ['$http'];
  
  function httpService($http) {

    var service = {
      httpPost: httpPost,
      httpGet: httpGet,
      httpPut: httpPut
    };

    return service;

    function httpPost(url, data, options) {
      if(options === undefined) {
        options = {};
      }
      
      return $http.post(url, data, options)
        .then(
          function (response) {
            return successResponse(response);
          },
          function (response) {
            return errorResponse(response);
          }
        );
    }

    function httpGet(url, options) {
      if (options === undefined) {
        options = {};
      }

      return $http.get(url, options)
        .then(
          function (response) {
            return successResponse(response);
          },
          function (response) {
            return errorResponse(response);
          }
        );
    }

    function httpPut(url, data, options) {
      if (options === undefined) {
        options = {};
      }

      return $http.put(url, data, options)
        .then(
          function (response) {
            return successResponse(response);
          },
          function (response) {
            return errorResponse(response);
          }
        );
    }

    function successResponse(response) {
      return response.data;
    }

    function errorResponse(response) {
      return response.data || 'Request Failed';
    }
  }
})();
(function () {
  'use strict';
  
  angular
    .module('tx.test')
    .controller('ListRepositoryController', ListRepositoryController);

  ListRepositoryController.$inject = [];

  function ListRepositoryController() {
    
  }
})();
(function () {
  'use strict';

  angular
    .module('tx.test')
    .controller('ListUserController', ListUserController);

  ListUserController.$inject = ['listUserService'];
  
  function ListUserController(listUserService) {
    var vm = this;
    vm.users = [];

    vm.$onInit = onInit;
    vm.getAllUsers = getAllUsers;
    
    function onInit() {
      getAllUsers();
    }
    
    function getAllUsers() {
      listUserService.getUsers()
        .then(function (response) {
          vm.users = response;
      });
    }
  }
})();
(function () {
  'use strict';
  
  angular
    .module('tx.test')
    .service('listUserService', listUserService);

  listUserService.$inject = ['httpService', 'TX_TEST_URL'];
  
  function listUserService(httpService, TX_TEST_URL) {
    var service = {
      getUsers: getUsers
    };

    return service;
    
    function getUsers() {
      return httpService.httpGet(TX_TEST_URL.url + '/users');
    }
  }
})();